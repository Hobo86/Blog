<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 系统 | Hobo Blog]]></title>
  <link href="http://blog.devhobo.com/blog/categories/xi-tong/atom.xml" rel="self"/>
  <link href="http://blog.devhobo.com/"/>
  <updated>2014-10-17T13:26:20+08:00</updated>
  <id>http://blog.devhobo.com/</id>
  <author>
    <name><![CDATA[Hobo]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[日志统计分析-Shell/Goaccess]]></title>
    <link href="http://blog.devhobo.com/blog/2013/11/07/ri-zhi-tong-ji-fen-xi-shell-slash-goaccess/"/>
    <updated>2013-11-07T18:36:00+08:00</updated>
    <id>http://blog.devhobo.com/blog/2013/11/07/ri-zhi-tong-ji-fen-xi-shell-slash-goaccess</id>
    <content type="html"><![CDATA[<p>对Nginx或其他日志进行简单的统计分析</p>

<p>Shell
对某一列进行统计，可以分析Status Code,URL等
{% codeblock lang:ruby %}</p>

<h1>cat access.log | awk &lsquo;{print $9}&rsquo;|sort|uniq -c | sort -r -n > stat.log</h1>

<p>或</p>

<h1>cat access.log |grep &ldquo;200&rdquo; | awk &lsquo;{print $7}&rsquo;|sort|uniq -c | sort -r -n > stat.log</h1>

<h1>vi stat.log</h1>

<p>{% endcodeblock %}</p>

<p>指定String统计
{% codeblock lang:ruby %}</p>

<h1>cat access.log|grep &ldquo;200&rdquo;|wc -l</h1>

<h1>cat access.log|grep &ldquo;www.localhost.com&rdquo;|wc -l</h1>

<p>{% endcodeblock %}</p>

<p>Goaccess工具
<a href="http://goaccess.io/">http://goaccess.io/</a></p>

<p>{% codeblock lang:ruby %}</p>

<h1>goaccess -f access.log</h1>

<h1>goaccess -f access.log -a -s -b</h1>

<p>{% endcodeblock %}</p>

<p>Goaccess分析压缩日志
{% codeblock lang:ruby %}</p>

<h1>zcat access.log-20130123.gz | goaccess</h1>

<p>{% endcodeblock %}</p>
]]></content>
  </entry>
  
</feed>
